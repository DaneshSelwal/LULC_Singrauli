Scripts Docs Assets
Filter scripts...
Air Quality
LULC
Mining Area Expansion
Singrauli
Singrauli(Coordinates)
Water Dynamics
update
Punjab_analysis
UntitledFile
01a_Spectral_Index_Change
01b_Spectral_Index_Change_(complete)
01c_Spectral_Index_Change_(exercise)
02a_Spectral_Distance_Change
02b_Spectral_Distance_Change_(complete)
02c_Spectral_Distance_Change_(exercise)
03a_Classifying_Change
03b_Classifying_Change_(complete)
03c_Classifying_Change_(exercise)
04a_Post_Classification_Comparison
04b_Post_Classification_Comparison_(complete)
04c_Post_Classification_Comparison_(exercise)
01a_Client_vs_Server
01b_Client_vs_Server_(complete)
01c_Client_vs_Server_(exercise)
02a_Using_UI_Elements
02b_Using_UI_Elements_(complete)
02c_Using_UI_Elements_(exercise)
03a_Building_an_App_with_UI_Widgets
03b_Building_an_App_with_UI_Widgets_(complete)
03c_Building_an_App_with_UI_Widgets_(exercise)
04a_Publishing_the_App
04b_Publishing_the_App_(complete)
04c_Publishing_the_App_(exercise)
05a_Split_Panel_App
05b_Split_Panel_App_(complete)
05c_Split_Panel_App_(exercise)
Aggregating_and_Visualizing_ImageCollections
Exporting_ImageCollections
Filter_by_Cloud_Cover_In_Region
Get_Pixelwise_Dates_in_Composites
Harmonized_Landsat_Time_Series
ImageCollection_Metadata
Interval_Composites
Landsat_Timelapse_Animation
Medoid_Composites
Percentile_Composites
Visualize_Number_of_Images_in_Composites
Visualizing_Bands_of_an_Image
Landsat7_Gapfilling
Landsat_Indices
Landsat_LST
Sentinel2_CloudScore_Mask
LICENSE
No accessible repositories. Click Refresh to check again.
Singrauli

Inspector Console Tasks
Use print(...) to write to this console.
Welcome to Earth Engine!
Please use the help menu above (help menu icon) to learn more about how to use Earth Engine, or visit our help page for support.
Imports generated code
var boundary = ee.FeatureCollection("projects/onyx-seeker-461009-i4/assets/gadm40_IND_2"),
    Mining = 
    /* color: #85491b */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56329516821206, 24.162293030450662],
                  [82.56364921980203, 24.162116830499155],
                  [82.56404618673623, 24.161852530116082],
                  [82.56426076345743, 24.161431606154597],
                  [82.56475428991617, 24.16097152488897],
                  [82.56468991689981, 24.16051144196601],
                  [82.5654087489158, 24.159532536615632],
                  [82.56610612325967, 24.159131183253432],
                  [82.56691078596414, 24.158338261928655],
                  [82.56759743147195, 24.15737891843721],
                  [82.56809095793069, 24.15760407112816],
                  [82.56622414045633, 24.159855576210646],
                  [82.56512979917825, 24.161607807051467],
                  [82.56401400022806, 24.162899939534057],
                  [82.56303767614664, 24.162625851918055]]]),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.55175367570116, 24.149804570391083],
                  [82.55220428681567, 24.14898222148628],
                  [82.55268708443835, 24.149344447251217],
                  [82.5533093569298, 24.149990577147573],
                  [82.55229528227551, 24.15049668100523],
                  [82.55171592512829, 24.150574999248356]]]),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56861132378319, 24.14352851192122],
                  [82.56868910784462, 24.143318019928888],
                  [82.56886211032608, 24.142763641104427],
                  [82.56885674590805, 24.14296434364966],
                  [82.56898146862724, 24.142991267137848],
                  [82.56884601707199, 24.143376761915096],
                  [82.56856974954346, 24.14387606770804],
                  [82.56842356915215, 24.143836906539864]]]),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56734549864112, 24.14745914966912],
                  [82.5671631084281, 24.14654867492976],
                  [82.56731331213294, 24.14613749066336],
                  [82.56738841398536, 24.145745885370275],
                  [82.56766199930487, 24.145339593610508],
                  [82.56772637232123, 24.145520711783437],
                  [82.56768882139502, 24.14601021907471],
                  [82.56750643118201, 24.146352873063126],
                  [82.56773173673926, 24.146343082961923],
                  [82.56782293184577, 24.147150763790258],
                  [82.56781220300971, 24.148379407868187],
                  [82.56763517721473, 24.149353503742255],
                  [82.56753325327216, 24.148815059704518],
                  [82.5674152360755, 24.148198293746386]]]),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.59041578911176, 24.146632467551413],
                  [82.59052039526334, 24.14652967167623],
                  [82.59075106523862, 24.146589635946803],
                  [82.59080336831441, 24.146480721230418],
                  [82.59071485541692, 24.146437889574944],
                  [82.59061829589238, 24.146362016321465],
                  [82.59066523455014, 24.146294709365332],
                  [82.59082080267301, 24.146368135133898],
                  [82.59086774133077, 24.146451350953928],
                  [82.59093077324262, 24.14642687571837],
                  [82.59097905300489, 24.14633631730603],
                  [82.59102733276715, 24.146347331170418],
                  [82.59109304688802, 24.14644890343059],
                  [82.59113462112775, 24.146544356806327],
                  [82.59108365915647, 24.146599426029127],
                  [82.59105549596181, 24.146691208014403],
                  [82.59106890700689, 24.146754843485507],
                  [82.59099112294545, 24.146765857313827],
                  [82.59085701249471, 24.146805017584626],
                  [82.59075240634313, 24.146770752348342],
                  [82.5906933977448, 24.14670099808894],
                  [82.59055660508504, 24.146642257630454],
                  [82.59047479771009, 24.146622677471633]]]),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.59035543940892, 24.144945995405678],
                  [82.59037689708104, 24.145021869499754],
                  [82.59037153266301, 24.145376763857925],
                  [82.59027765534749, 24.145797740715405],
                  [82.59028301976552, 24.146003333560476],
                  [82.59035275719991, 24.146167318092665],
                  [82.59050027869573, 24.146311722207994],
                  [82.59033934615483, 24.146404728161993]]]),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.58928925053861, 24.122579851005398],
                  [82.5886562492111, 24.121923790617025],
                  [82.58877426640775, 24.12111105442647],
                  [82.58968621747282, 24.120846669251716],
                  [82.5902226592758, 24.12038644190371],
                  [82.59087711827543, 24.120611659748906],
                  [82.59053379552152, 24.121404815091072],
                  [82.59014755742338, 24.12173774302901],
                  [82.58975059048917, 24.12200212636264]]]),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.58718639867094, 24.119456190082378],
                  [82.58773356930998, 24.119426813598935],
                  [82.58777648465421, 24.119847875884016],
                  [82.58739024655607, 24.119984965631353]]]),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.5939642471371, 24.138836022723297],
                  [82.59366115751841, 24.138331801887528],
                  [82.5939106029568, 24.138208194049078],
                  [82.594217715889, 24.13877360714516]]]),
            {
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.5924994905906, 24.14332672538643],
                  [82.59262421330979, 24.143348753632925],
                  [82.59250619611313, 24.143954528923913],
                  [82.59237138205118, 24.143911114695925]]]),
            {
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.59573441620998, 24.14855025106989],
                  [82.59532135602169, 24.148186799308785],
                  [82.5954501020544, 24.148004461167233],
                  [82.59582292910747, 24.14816477189611],
                  [82.59581890579395, 24.14855025106989]]]),
            {
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60120663814284, 24.14906869851452],
                  [82.60105777554251, 24.148712590668147],
                  [82.6013085620854, 24.148574307972357],
                  [82.60134074859359, 24.14842256395699],
                  [82.60152582101561, 24.14832711198405],
                  [82.60149095229842, 24.1480542168476],
                  [82.60159153513648, 24.148022399439505],
                  [82.60170552901961, 24.1481668014588],
                  [82.60194558672644, 24.14809949545316],
                  [82.60220173768737, 24.147937960894993],
                  [82.60224197082259, 24.148034636905095],
                  [82.60210651926734, 24.148275714738315],
                  [82.60209713153579, 24.148390746640597],
                  [82.60156739525534, 24.14843113015621],
                  [82.60152582101561, 24.148620810134542],
                  [82.60166261367537, 24.1486159151709],
                  [82.60168407134749, 24.148455605007946],
                  [82.60208506159522, 24.14843113015621],
                  [82.60194826893546, 24.14874196042498],
                  [82.6014694946263, 24.148980589449042]]]),
            {
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.59436412332757, 24.153825501541146],
                  [82.59438021658165, 24.15368722437841],
                  [82.59466721294625, 24.15351223624998],
                  [82.59454114912255, 24.153616250201356],
                  [82.59481071112855, 24.153841409523714],
                  [82.59490592954857, 24.153825501541146],
                  [82.59493945716126, 24.15375085636569],
                  [82.59488849518998, 24.153632158209987],
                  [82.59493141053422, 24.153597894804328],
                  [82.59499176023705, 24.1536150265083],
                  [82.595073567612, 24.153553841840694],
                  [82.59503869889481, 24.153486538672475],
                  [82.59485899089081, 24.153585657871506],
                  [82.59474097369416, 24.153525696883747],
                  [82.5950999436829, 24.152974165893866],
                  [82.59647323469852, 24.153669225147283],
                  [82.59587778429722, 24.154408333303707]]]),
            {
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.59138571055011, 24.150930517279598],
                  [82.59173976214008, 24.151189945395334],
                  [82.59130524427967, 24.151669641278556],
                  [82.59094046385364, 24.15158642885649]]]),
            {
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60611609775437, 24.160793021780595],
                  [82.60692344266785, 24.161204158884125],
                  [82.607309680766, 24.161539430423396],
                  [82.60683761197937, 24.161392596280944],
                  [82.60672495920075, 24.161497827433504],
                  [82.60683492977036, 24.16163242529297],
                  [82.60702536661042, 24.161507616373523],
                  [82.60717825252426, 24.16156879723163],
                  [82.60703073102844, 24.161713183940563],
                  [82.6071836169423, 24.1618233092868],
                  [82.60740892249954, 24.16175723409045],
                  [82.60812507230652, 24.162168368090118],
                  [82.60817066985977, 24.162510978745487],
                  [82.60706828195465, 24.16200195686873],
                  [82.60630385238541, 24.161419515886365]]]),
            {
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.62020376709333, 24.166669184095515],
                  [82.61981216457716, 24.166204227409228],
                  [82.61976924923292, 24.16554349657421],
                  [82.62008574989667, 24.165083430121875],
                  [82.62116936233869, 24.165533707943542],
                  [82.62160924461713, 24.165391772714607],
                  [82.62159851578107, 24.16584694375259],
                  [82.62092796352735, 24.16646851878594],
                  [82.62103525188795, 24.166727915345977],
                  [82.62063292053571, 24.166884531881784]]]),
            {
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.62183991459241, 24.16726138963387],
                  [82.62212422874799, 24.16661534709219],
                  [82.62316492584577, 24.16699220563874],
                  [82.6234760620915, 24.166497884460696],
                  [82.62215105083814, 24.166047610038966],
                  [82.62251583126417, 24.16534282949562],
                  [82.62489763286939, 24.16610634157532],
                  [82.6241251566731, 24.167246706885134],
                  [82.62373355415693, 24.167692082845694]]]),
            {
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.63105920337756, 24.168480397023913],
                  [82.63106993221362, 24.168355594797358],
                  [82.63141996049006, 24.16801667048818],
                  [82.63165063046534, 24.168414325272106]]]),
            {
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.63020357870181, 24.16823691021383],
                  [82.63055628918727, 24.16819530940587],
                  [82.63048521064837, 24.1685635984405],
                  [82.63028672718127, 24.168531786140566]]]),
            {
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.65163448870595, 24.177258259703656],
                  [82.65181687891896, 24.17654375326269],
                  [82.65632835448201, 24.17778679614087],
                  [82.65555587828572, 24.178697048207184],
                  [82.65413430750783, 24.178095108051735],
                  [82.65413967192586, 24.177821053056633],
                  [82.65323844969686, 24.177806371522433],
                  [82.65267518580373, 24.177591042160085],
                  [82.65269127905782, 24.17728272903148]]]),
            {
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66096132028605, 24.179280142021156],
                  [82.66067700613047, 24.179309504748772],
                  [82.66054826009776, 24.179123540693077],
                  [82.66305076110865, 24.17780465625871],
                  [82.66329215991999, 24.178073817454354],
                  [82.66325460899378, 24.17862192577043],
                  [82.66102032888438, 24.179466105848658]]]),
            {
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.68349189622926, 24.17014104341754],
                  [82.68377889259385, 24.170532573930117],
                  [82.68215079172181, 24.172093789908544],
                  [82.68114496334123, 24.171535865387657]]]),
            {
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.5585602900888, 24.179455954859325],
                  [82.55829940073338, 24.178379480820833],
                  [82.55803922645893, 24.177006756075816],
                  [82.55932668678608, 24.176803660073585],
                  [82.55953321688023, 24.177038566263757],
                  [82.55980036886974, 24.1786275575522],
                  [82.56015978487774, 24.179745789043437],
                  [82.55909763010784, 24.180411340115203]]]),
            {
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56335582779091, 24.182295982823064],
                  [82.56443139360589, 24.181588845138368],
                  [82.56474789426964, 24.181887360486716],
                  [82.56330218361062, 24.183220883637382]]]),
            {
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.6841840719306, 24.16635770701361],
                  [82.68391048661108, 24.165931903601198],
                  [82.68479025116797, 24.16549141581832],
                  [82.68499946347113, 24.165819334645676]]]),
            {
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57142825154368, 24.155983779068748],
                  [82.57142825154368, 24.155983779068748],
                  [82.57142825154368, 24.155983779068748],
                  [82.57142825154368, 24.155983779068748]]], null, false),
            {
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60447638518932, 24.160267672324768],
                  [82.60447638518932, 24.16012083672024],
                  [82.60481300242068, 24.16012083672024],
                  [82.60481300242068, 24.160267672324768]]], null, false),
            {
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60517241842868, 24.16051729246505],
                  [82.60517241842868, 24.160398600596423],
                  [82.60556670315387, 24.160398600596423],
                  [82.60556670315387, 24.16051729246505]]], null, false),
            {
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60380583293559, 24.159828388638342],
                  [82.60380583293559, 24.159652185286657],
                  [82.60392385013225, 24.159652185286657],
                  [82.60392385013225, 24.159828388638342]]], null, false),
            {
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60416524894359, 24.160104929519612],
                  [82.60416524894359, 24.159851637673537],
                  [82.60434227473857, 24.159851637673537],
                  [82.60434227473857, 24.160104929519612]]], null, false),
            {
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60347663758314, 24.157722685381533],
                  [82.60347663758314, 24.157459599562017],
                  [82.60378777382887, 24.157459599562017],
                  [82.60378777382887, 24.157722685381533]]], null, false),
            {
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60400503275908, 24.157898891394883],
                  [82.60400503275908, 24.157663949989747],
                  [82.60423838494337, 24.157663949989747],
                  [82.60423838494337, 24.157898891394883]]], null, false),
            {
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60534881947554, 24.158543754385118],
                  [82.60534881947554, 24.15836387831865],
                  [82.60563179252661, 24.15836387831865],
                  [82.60563179252661, 24.158543754385118]]], null, false),
            {
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60511024680467, 24.1575428558614],
                  [82.60511024680467, 24.157329939637908],
                  [82.60529263701768, 24.157329939637908],
                  [82.60529263701768, 24.1575428558614]]], null, false),
            {
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60545088734956, 24.157782692101915],
                  [82.60545088734956, 24.15764809018563],
                  [82.60560913768144, 24.15764809018563],
                  [82.60560913768144, 24.157782692101915]]], null, false),
            {
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.60576068249078, 24.15792463578724],
                  [82.60576068249078, 24.157723956737694],
                  [82.60593636718126, 24.157723956737694],
                  [82.60593636718126, 24.15792463578724]]], null, false),
            {
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.614702863468, 24.161309401060553],
                  [82.614702863468, 24.161059782468346],
                  [82.6149013469351, 24.161059782468346],
                  [82.6149013469351, 24.161309401060553]]], null, false),
            {
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.61504752732641, 24.161337544302587],
                  [82.61504752732641, 24.16107691317164],
                  [82.61528758503324, 24.16107691317164],
                  [82.61528758503324, 24.161337544302587]]], null, false),
            {
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.6154230365885, 24.161536994057638],
                  [82.6154230365885, 24.161343662397854],
                  [82.61568991638548, 24.161343662397854],
                  [82.61568991638548, 24.161536994057638]]], null, false),
            {
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.61892794859796, 24.15855109256977],
                  [82.61892794859796, 24.158261088190983],
                  [82.61922835600762, 24.158261088190983],
                  [82.61922835600762, 24.15855109256977]]], null, false),
            {
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.61773302448182, 24.157274823646688],
                  [82.61773302448182, 24.157127984601743],
                  [82.61789395702272, 24.157127984601743],
                  [82.61789395702272, 24.157274823646688]]], null, false),
            {
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.67469338773519, 24.143098199024084],
                  [82.67469338773519, 24.142217064476295],
                  [82.67576090692312, 24.142217064476295],
                  [82.67576090692312, 24.143098199024084]]], null, false),
            {
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.68049232362539, 24.142266016554956],
                  [82.68049232362539, 24.14140445723221],
                  [82.68166713117391, 24.14140445723221],
                  [82.68166713117391, 24.142266016554956]]], null, false),
            {
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.67636172174245, 24.14069954074019],
                  [82.67636172174245, 24.139808599057556],
                  [82.677541893709, 24.139808599057556],
                  [82.677541893709, 24.14069954074019]]], null, false),
            {
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.67543258754863, 24.14205216164446],
                  [82.67543258754863, 24.14139130589537],
                  [82.67615678398265, 24.14139130589537],
                  [82.67615678398265, 24.14205216164446]]], null, false),
            {
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66876302279834, 24.160109901549582],
                  [82.66876302279834, 24.15931453902347],
                  [82.66963205851917, 24.15931453902347],
                  [82.66963205851917, 24.160109901549582]]], null, false),
            {
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66837946690922, 24.158803057120902],
                  [82.66837946690922, 24.158088447396814],
                  [82.66967497386341, 24.158088447396814],
                  [82.66967497386341, 24.158803057120902]]], null, false),
            {
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57968780913994, 24.18651630021271],
                  [82.57968780913994, 24.185948651678153],
                  [82.58018133559868, 24.185948651678153],
                  [82.58018133559868, 24.18651630021271]]], null, false),
            {
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57951614776299, 24.185199938972392],
                  [82.57951614776299, 24.18473015620765],
                  [82.58002576747582, 24.18473015620765],
                  [82.58002576747582, 24.185199938972392]]], null, false),
            {
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57952754314843, 24.182793130307907],
                  [82.57962410267297, 24.182565575204624],
                  [82.58056824024621, 24.182820045400817],
                  [82.58122269924584, 24.183673984946136],
                  [82.58156602199975, 24.18412909079318],
                  [82.58188520487252, 24.1847848318471],
                  [82.58218024786416, 24.18515674318579],
                  [82.5820085864872, 24.185281528984145],
                  [82.58139704283181, 24.18458419501682],
                  [82.58097593601647, 24.183820793461273],
                  [82.58055888217078, 24.18370060076539],
                  [82.58036039870368, 24.183145173803815]]]),
            {
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.5793409936853, 24.189412194420257],
                  [82.5795381360479, 24.188246336573112],
                  [82.57983317903954, 24.187673802270474],
                  [82.57999947599846, 24.187240729744786],
                  [82.58103480867821, 24.18755880575448],
                  [82.58098384670693, 24.188082406073804],
                  [82.58000527700075, 24.189241068304852]]]),
            {
              "system:index": "50"
            })]),
    Water = 
    /* color: #1483f7 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[82.55827178569855, 24.16619391085756],
                  [82.5580652556044, 24.16589535880546],
                  [82.55848636241974, 24.16565309064358],
                  [82.55908717723908, 24.165802367040097],
                  [82.5594144067389, 24.16648756793276],
                  [82.56005545469345, 24.167018596095552],
                  [82.56038268419327, 24.167322039768457],
                  [82.56172304362416, 24.16846445860809],
                  [82.56224607438206, 24.168579472331064],
                  [82.56144677609562, 24.16915943356845],
                  [82.56007616728901, 24.167808633697373]]]),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56389331020628, 24.169031351805817],
                  [82.56490718521391, 24.16995634874922],
                  [82.56613563694273, 24.171644817950725],
                  [82.56579231418883, 24.17167907651497],
                  [82.5655187288693, 24.17113093838387],
                  [82.56502520241057, 24.170641527349453],
                  [82.56446114525663, 24.170866344967006],
                  [82.56439140782224, 24.1707488862464],
                  [82.5625835989462, 24.168830378512357]]]),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56741987826845, 24.175754744910588],
                  [82.56814675691149, 24.175558987813048],
                  [82.56850349071047, 24.176492700721596],
                  [82.56837474467775, 24.176781440222943],
                  [82.56782757403872, 24.17675697079902]]]),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.56661927956648, 24.17317505316602],
                  [82.56669974583693, 24.172940139865283],
                  [82.56655490655012, 24.17263670954534],
                  [82.56706989068098, 24.1728177890166],
                  [82.56800329941817, 24.175049450057738],
                  [82.56757414597578, 24.175142435087704]]]),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57835799583484, 24.16359024500428],
                  [82.57923239597369, 24.163399363651383],
                  [82.57954353221942, 24.164135968323954],
                  [82.57846260198642, 24.16456177772496],
                  [82.57826545962382, 24.164347649611692]]]),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.5733603834848, 24.141538870836712],
                  [82.57326918837829, 24.141433623245753],
                  [82.57347303626342, 24.141176622950226],
                  [82.57404702899261, 24.14096367945684],
                  [82.5745325088243, 24.14025631289243],
                  [82.57483105954749, 24.139780734359945],
                  [82.57540505227668, 24.139829687371527],
                  [82.57505636510474, 24.14052481811301],
                  [82.57473450002296, 24.14087238206641],
                  [82.57461111840827, 24.14120036408542],
                  [82.57454674539191, 24.14222346676815],
                  [82.57468085584266, 24.14254165492843],
                  [82.57448773679359, 24.142571026103298],
                  [82.57435362634284, 24.142380113346032],
                  [82.57439117726905, 24.141988496541416],
                  [82.57423560914619, 24.141498973848552],
                  [82.57399957475288, 24.14126400229015]]]),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.55477136331344, 24.12063577129244],
                  [82.55491083818221, 24.120028661526913],
                  [82.55469089704299, 24.11965656056952],
                  [82.5546748037889, 24.119308938960717],
                  [82.55511468606734, 24.119328924802407],
                  [82.55505031305098, 24.119676546356924],
                  [82.55527561860823, 24.119779363818843],
                  [82.55551165300155, 24.120043751198754],
                  [82.55529707628035, 24.120851598141734],
                  [82.55516296582961, 24.121150255417273],
                  [82.55470162587905, 24.121130671354983]]]),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.55578523832106, 24.12105682959954],
                  [82.55599981504226, 24.120312632582237],
                  [82.55596762853408, 24.119764274115823],
                  [82.55685812192702, 24.119803442655645],
                  [82.55671864705825, 24.120214711599857],
                  [82.55694931703353, 24.120581914897414],
                  [82.55684739309096, 24.120954013164027]]]),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.64612842852664, 24.134864721080305],
                  [82.64643956477236, 24.134042276063333],
                  [82.64787722880435, 24.13426746986766],
                  [82.64891792590213, 24.13385624609979],
                  [82.64859606082034, 24.134590573329017]]]),
            {
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.65044142062258, 24.134668901317937],
                  [82.64979769045901, 24.13365063371998],
                  [82.65114952380252, 24.133121914653902],
                  [82.65276957804751, 24.132671522614256],
                  [82.6526408320148, 24.131888228332564],
                  [82.65143920237612, 24.131731568900552],
                  [82.65183616931033, 24.130458703901983],
                  [82.65342403704715, 24.129802683917607],
                  [82.65631009394717, 24.129949554355683],
                  [82.65642811114382, 24.13117346811449],
                  [82.6541535978992, 24.131300754473056],
                  [82.65322018916201, 24.131731568900552],
                  [82.65325237567019, 24.132818389757993],
                  [82.65363861376834, 24.133121914653902],
                  [82.6531450873096, 24.134052067106552],
                  [82.65222240740847, 24.134424126193302]]]),
            {
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.71193020537358, 24.206226437925825],
                  [82.71237008765202, 24.205463165922993],
                  [82.71344297125798, 24.20536531020744],
                  [82.71405451491337, 24.205521879316255],
                  [82.71535270407658, 24.2047977455757],
                  [82.71689765646916, 24.204122536084167],
                  [82.71765940382939, 24.204005107981388],
                  [82.71767013266545, 24.204191035760825],
                  [82.71630757048588, 24.20483688804524],
                  [82.71635048583012, 24.205316382321488],
                  [82.7152132292078, 24.205913301246838],
                  [82.713807751684, 24.20616772485712],
                  [82.71239154532414, 24.2062460089427]]]),
            {
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.6787446706823, 24.191031676642094],
                  [82.67828064852273, 24.190442028081577],
                  [82.67848986082589, 24.19028299377069],
                  [82.67870175533807, 24.190358840928315],
                  [82.6791040866903, 24.190138639378354],
                  [82.67971294813668, 24.189991838133853],
                  [82.67988460951364, 24.190757649434357]]]),
            {
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.45246266661628, 24.212548863396815],
                  [82.45441531477913, 24.215288640578535],
                  [82.44761323271736, 24.21910466060828],
                  [82.44566058455452, 24.215875728023526]]]),
            {
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.44435166655525, 24.21301854366938],
                  [82.4500164919947, 24.20798896075816],
                  [82.45164727507576, 24.20976988635817],
                  [82.45211934386238, 24.211648638035015],
                  [82.44520997344002, 24.215053804843002]]]),
            {
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.46074914428002, 24.21403599761227],
                  [82.46115684005028, 24.214730724292814],
                  [82.46110051366097, 24.215616250696485],
                  [82.4617201039434, 24.216161751467027],
                  [82.46147870513207, 24.2164283855229],
                  [82.46064722033745, 24.216364784789608],
                  [82.46010273190743, 24.21563582027125],
                  [82.45916395875221, 24.21466467649672]]]),
            {
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.4725551892232, 24.199575886715003],
                  [82.47253909596911, 24.197481661289387],
                  [82.47279658803454, 24.197471875108533],
                  [82.47286632546893, 24.197878000983238],
                  [82.4735100556325, 24.198093296103014],
                  [82.4745722104024, 24.19777035328703],
                  [82.47428789624682, 24.197310403015802],
                  [82.47469022759905, 24.197207647941237],
                  [82.47600987443438, 24.198396665881987],
                  [82.47585967072955, 24.199497598532993],
                  [82.47463378559006, 24.19988875253482],
                  [82.4745506371106, 24.200179885575434],
                  [82.47410588280106, 24.199627626914765],
                  [82.47308127895737, 24.199290642804005]]]),
            {
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.50393376058501, 24.17255995812594],
                  [82.50438705390853, 24.171666791573873],
                  [82.50489399141235, 24.172254079873376],
                  [82.50467405027312, 24.172503676582487],
                  [82.5067044824974, 24.173795698804366],
                  [82.5072219812479, 24.173993650778623],
                  [82.50685720082187, 24.174079295596062],
                  [82.50567971106433, 24.173597236875064]]]),
            {
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.48980940631716, 24.16643405608204],
                  [82.49021710208743, 24.166390007545356],
                  [82.49087156108706, 24.16664450999203],
                  [82.4915260200867, 24.166140398883783],
                  [82.49235214046328, 24.166561307324887],
                  [82.49164940170138, 24.167217138642364],
                  [82.49163867286532, 24.167505899124492],
                  [82.49129535011141, 24.167540158799373],
                  [82.49130071452944, 24.167319917871865],
                  [82.49047995857089, 24.167363966087763],
                  [82.4899971609482, 24.16733949485858],
                  [82.48917104057162, 24.167902331943026],
                  [82.4890422945389, 24.16748632216329]]]),
            {
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.4751913806948, 24.164258691344564],
                  [82.47533085556357, 24.164452018591533],
                  [82.4750116726908, 24.16450096215193],
                  [82.47471662969916, 24.16450096215193],
                  [82.4746522566828, 24.164449571413016]]]),
            {
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52820635811476, 24.208414031561936],
                  [82.52874816433577, 24.208210985569654],
                  [82.52939189449934, 24.209377884028136],
                  [82.52878571526198, 24.209561357656444]]]),
            {
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52708787695555, 24.209473290347823],
                  [82.52775842920927, 24.20924333653283],
                  [82.52792204395918, 24.209876931679172],
                  [82.52725685612349, 24.210031048941143]]]),
            {
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.5262134768167, 24.208450726586268],
                  [82.5269537665048, 24.208132702691042],
                  [82.52738291994719, 24.208798105626464],
                  [82.52662653700499, 24.209121020504735]]]),
            {
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52997099143442, 24.208197780206934],
                  [82.52968131286082, 24.208173316809997],
                  [82.52943454963145, 24.207821043373432],
                  [82.5301241375604, 24.20748686710768],
                  [82.53071958796171, 24.209013382302903],
                  [82.53014559523253, 24.209116127861172]]]),
            {
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52663680764053, 24.211115237133622],
                  [82.52696940155838, 24.21080455875647],
                  [82.52750852557037, 24.211450377525825],
                  [82.5275863096318, 24.211340295012466],
                  [82.52770164461944, 24.21143569986287],
                  [82.52772310229156, 24.211597154062378],
                  [82.52727785559509, 24.21170234380956],
                  [82.52704718561981, 24.211650972083415]]]),
            {
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.53460030590743, 24.197405527604474],
                  [82.53436695372314, 24.196916217348917],
                  [82.53487389122695, 24.19673517207845],
                  [82.53518502747268, 24.19724772525219]]]),
            {
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.54189660130785, 24.194375446248365],
                  [82.54246522961901, 24.194240882917725],
                  [82.5426610308771, 24.194847640085296],
                  [82.54200120745944, 24.19495773684253]]]),
            {
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57146081879641, 24.221197065777964],
                  [82.57208309128787, 24.21973918787672],
                  [82.57402501061465, 24.21889772055326],
                  [82.57631025269534, 24.219572851753618],
                  [82.57726511910464, 24.22040453019698],
                  [82.5792392249396, 24.21925974787376],
                  [82.58011898949648, 24.220707846866055],
                  [82.57715783074404, 24.221343831085097]]]),
            {
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.58628807023074, 24.21970004998495],
                  [82.58553705170657, 24.2182225857745],
                  [82.59167394593264, 24.215287175571593],
                  [82.59556851342226, 24.215522010876935]]]),
            {
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.58286557152773, 24.217635509145186],
                  [82.58439979508425, 24.219240178855724],
                  [82.58258662179018, 24.21945543788886]]]),
            {
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.61486421324078, 24.230404519550987],
                  [82.61486153103176, 24.23033970284013],
                  [82.61537785626713, 24.23049868716645]]]),
            {
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.19285904771489, 24.345398096398537],
                  [82.19310581094426, 24.343531096789448],
                  [82.19465076333684, 24.34353598425891],
                  [82.19513356095952, 24.345046203289378],
                  [82.19276785260838, 24.34545185775966]]]),
            {
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.12624392821247, 24.32263081550466],
                  [82.12548754527027, 24.32185846556729],
                  [82.12551973177845, 24.321770476035336],
                  [82.12638340308125, 24.32215176356605],
                  [82.12631903006489, 24.32304876240092],
                  [82.12615541531498, 24.323029209360477]]]),
            {
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.11734164929517, 24.323931189342694],
                  [82.1177252051843, 24.323955630468852],
                  [82.11752135729917, 24.324987041697163],
                  [82.11718074395115, 24.32482563236008]]]),
            {
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.11658119084312, 24.320305595463356],
                  [82.11690842034294, 24.320114949065005],
                  [82.1172624719329, 24.32036914419911],
                  [82.11698352219535, 24.320813984457367]]]),
            {
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.10399136063536, 24.31609986603466],
                  [82.10541829583129, 24.315747891553997],
                  [82.10541293141326, 24.316036315159042],
                  [82.10433468338927, 24.316412731419476]]]),
            {
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.70957955805386, 24.02349018281176],
                  [82.7098370462069, 24.021030454109592],
                  [82.7079487749728, 24.01896273891981],
                  [82.72024402109707, 24.017218356518487],
                  [82.72054442850674, 24.023862562875088]]]),
            {
              "system:index": "35"
            })]),
    Settlement = 
    /* color: #ffc82d */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66413904915733, 24.190821179865583],
                  [82.66395129452629, 24.190126322867126],
                  [82.6678083110897, 24.189406995085196],
                  [82.66801215897483, 24.1900529222589],
                  [82.66409613381309, 24.19085053993709]]]),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66214434256999, 24.192464392464032],
                  [82.66189221492259, 24.191774437727297],
                  [82.66419594268137, 24.191368292413596],
                  [82.6643997905665, 24.19215611527699]]]),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66830508689219, 24.191055119240364],
                  [82.6699465988093, 24.1908593856166],
                  [82.67027382830912, 24.192850961216912],
                  [82.66876642684275, 24.193100517637518]]]),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.67361993935944, 24.192043165873645],
                  [82.67300839570404, 24.19082472861975],
                  [82.67520244267823, 24.1899390299767],
                  [82.67581935075165, 24.191460861971557]]]),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66269853658754, 24.194595747162268],
                  [82.66410401411135, 24.19461042676438],
                  [82.66398599691469, 24.196523653777927],
                  [82.66288629121858, 24.196523653777927]]]),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66197513441993, 24.199962806143322],
                  [82.66199122767402, 24.200055773014885],
                  [82.66147087912513, 24.198578081031627],
                  [82.66318212847663, 24.198357893673936],
                  [82.66370247702552, 24.1997181561574],
                  [82.66196440558387, 24.20000261961825]]]),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.65027927806744, 24.19955394015533],
                  [82.65138032486806, 24.19961387952252],
                  [82.65135484388242, 24.200079937722226],
                  [82.65085327079663, 24.200037124047917],
                  [82.65084522416959, 24.199953943153865],
                  [82.650288665799, 24.19992947817469],
                  [82.65029537132153, 24.19955394015533]]]),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.65453052474109, 24.201535347520238],
                  [82.65493822051135, 24.201819137415125],
                  [82.65491810394374, 24.20195124628863],
                  [82.65472110676878, 24.202221182481704],
                  [82.65460386318804, 24.20217356559286],
                  [82.65459045214297, 24.202043903407368],
                  [82.65446036500575, 24.201987634870736]]]),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.6596576517387, 24.20169361517277],
                  [82.65978103335338, 24.199579852496445],
                  [82.66150301154094, 24.199296057616742],
                  [82.66194289381939, 24.200925423068988],
                  [82.65966301615673, 24.201590863630894],
                  [82.65966301615673, 24.201732758595508],
                  [82.65968447382885, 24.201659364668]]]),
            {
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66600272683287, 24.201011210335142],
                  [82.66553065804625, 24.20038491058414],
                  [82.66769788293028, 24.199396525030433],
                  [82.66821286706114, 24.20004729459827]]]),
            {
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.44810519742218, 24.22862315752073],
                  [82.44598088788238, 24.225042240439137],
                  [82.44884548711029, 24.223564838200737],
                  [82.44919953870026, 24.22409318269187],
                  [82.4505406432077, 24.223466996387753],
                  [82.4507015757486, 24.223926852255158],
                  [82.45110927151886, 24.223662679938542],
                  [82.45152769612518, 24.22409318269187],
                  [82.4509912543222, 24.224826990848616],
                  [82.45155988263336, 24.22555101075222],
                  [82.4524503760263, 24.225159649153348],
                  [82.45309410618988, 24.226226106683253]]]),
            {
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.43263118750428, 24.236618716663756],
                  [82.43046396262025, 24.233038024481388],
                  [82.44265192038392, 24.22687430203173],
                  [82.44507663733339, 24.230787811189025],
                  [82.44166486746644, 24.232607551971867],
                  [82.44256608969545, 24.233840264819165],
                  [82.44316690451478, 24.23468163339985],
                  [82.43754499441957, 24.237342669507285],
                  [82.4365793991742, 24.236833946317667],
                  [82.43593566901063, 24.236070857720488],
                  [82.43494861609315, 24.236383920262547],
                  [82.4343263436017, 24.235659961965396]]]),
            {
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.42765591851105, 24.24381083207019],
                  [82.4274842571341, 24.242587998514576],
                  [82.42806361428131, 24.242441257698136],
                  [82.42823527565827, 24.24187385828223],
                  [82.43178652039398, 24.24027925672153],
                  [82.43209765663971, 24.240846663248057],
                  [82.43260191193451, 24.240602091779632],
                  [82.43299887886872, 24.240993405903485],
                  [82.43611024132599, 24.239594452371797],
                  [82.4365608524405, 24.240445565793145],
                  [82.44180725327362, 24.242030382511754],
                  [82.44070218315949, 24.243360830688417],
                  [82.43880317917694, 24.245307564345445],
                  [82.43708656540741, 24.245307564345445],
                  [82.43655012360443, 24.244730395161763],
                  [82.43352459183563, 24.245630386645292],
                  [82.43307398072113, 24.245160826665618],
                  [82.43100331536164, 24.241785813318508],
                  [82.4288360904776, 24.24379126682581]]]),
            {
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.3474834947377, 24.265395094979],
                  [82.3475022702008, 24.265282613876302],
                  [82.34833107278641, 24.26526549717803],
                  [82.34848932311829, 24.26545867121039],
                  [82.34846250102814, 24.26563472830062],
                  [82.34792874143417, 24.265783887588995],
                  [82.34768734262283, 24.265355971128475]]]),
            {
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.32638701304353, 24.29221321604938],
                  [82.32632532223619, 24.29195407503348],
                  [82.32711120947755, 24.291276883277487],
                  [82.32770129546083, 24.291411344021892],
                  [82.32637628420747, 24.292235218564105]]]),
            {
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.30558028028908, 24.31873202258512],
                  [82.30900277899208, 24.317040615842558],
                  [82.30939974592629, 24.317812995131188],
                  [82.3057090263218, 24.319572829101194]]]),
            {
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.27826314589085, 24.3434844540677],
                  [82.27816122194828, 24.343077571423358],
                  [82.27823095938267, 24.343047024625534],
                  [82.27834763547482, 24.343480788464117],
                  [82.27826985141338, 24.343494229010037]]]),
            {
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.27842839054749, 24.343509633918423],
                  [82.27848605804131, 24.343509633918423],
                  [82.27857993535683, 24.3439739427541],
                  [82.27851556234047, 24.34397272089098]]]),
            {
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.27633283483028, 24.346101325013482],
                  [82.27630333053112, 24.345844737809596],
                  [82.27708117114544, 24.345754321242424],
                  [82.27713481532574, 24.3459889154453]]]),
            {
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.2106960909641, 24.41911664202407],
                  [82.21121375730398, 24.41913862248901],
                  [82.21119229963186, 24.41995433925846],
                  [82.21061428358915, 24.41993846458122]]]),
            {
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.21161608865621, 24.41863673425177],
                  [82.2122088568485, 24.418609869131696],
                  [82.21210425069692, 24.419657604576752],
                  [82.21161608865621, 24.419684469473797]]]),
            {
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.21317095548075, 24.415403469021257],
                  [82.21355182916086, 24.415926129972735],
                  [82.21317631989878, 24.415994515357674]]]),
            {
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.77905733636051, 24.20782683715717],
                  [82.77915389588505, 24.206329664256565],
                  [82.78090269616276, 24.206378591753534],
                  [82.7808383231464, 24.20789044215236],
                  [82.77909488728672, 24.207782802911137]]]),
            {
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.77083397190476, 24.196555440274363],
                  [82.7718317536583, 24.196907744844463],
                  [82.77029216568376, 24.200059015364754],
                  [82.7692192820778, 24.19964311042318]]]),
            {
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.76793119430344, 24.19562646969802],
                  [82.7702364377333, 24.19658154060192],
                  [82.76906699460281, 24.198988935270375],
                  [82.76688904088272, 24.19811797252826]]]),
            {
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.76491324687628, 24.196913672514107],
                  [82.7650795438352, 24.19563167071443],
                  [82.76739697242407, 24.194144141021972],
                  [82.76833574557928, 24.19458452991012],
                  [82.766844437367, 24.197036000256475],
                  [82.76492934013037, 24.19687942072522]]]),
            {
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.78569010314716, 24.204346760505768],
                  [82.7860763412453, 24.201029380799206],
                  [82.79883292732013, 24.202184112734194],
                  [82.79883292732013, 24.204914327145683]]]),
            {
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.80248328350454, 24.1952138292865],
                  [82.80516549251944, 24.190594586284487],
                  [82.81323357723623, 24.193785013518582],
                  [82.81031533382803, 24.198991306185768],
                  [82.80175372265249, 24.194998529304804]]]),
            {
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.78034452291702, 24.180568672462186],
                  [82.77989391180252, 24.179501832882107],
                  [82.78104189726089, 24.179129905060247],
                  [82.78173927160476, 24.180177172734826],
                  [82.78020504804824, 24.180617609843658]]]),
            {
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.78806980447843, 24.179040423938872],
                  [82.79340203600003, 24.178707645261873],
                  [82.79344495134427, 24.179402564454286],
                  [82.79446419076993, 24.179216600534197],
                  [82.79558306735451, 24.180532302045016],
                  [82.79565816920693, 24.183380427217656],
                  [82.7948427776664, 24.183625108545343],
                  [82.79393082660134, 24.182861701251124],
                  [82.79132371943886, 24.18296936153081],
                  [82.78763299983437, 24.182489783222305]]]),
            {
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.78651815729816, 24.17692385847123],
                  [82.78884631472309, 24.175837412740886],
                  [82.7895329602309, 24.177657938188553],
                  [82.78688293772419, 24.17863670457679]]]),
            {
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.78268705337287, 24.18436653588757],
                  [82.78330932586432, 24.182037164154444],
                  [82.78678546874762, 24.18169460590104],
                  [82.78775106399299, 24.184464407718487]]]),
            {
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.77295535554784, 24.18137162156262],
                  [82.77465051164525, 24.180295001196786],
                  [82.77563756456273, 24.18169460590104],
                  [82.77396386613744, 24.18256568079852]]]),
            {
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.77725361770712, 24.186461418244782],
                  [82.77660988754354, 24.18468016705282],
                  [82.77822994178854, 24.18406357430731],
                  [82.77973197883688, 24.185952491870612],
                  [82.77726434654318, 24.186539714429845]]]),
            {
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.7750542063149, 24.19012171350417],
                  [82.77781151718222, 24.189573654589886],
                  [82.7783479589852, 24.19143313063238],
                  [82.77568720764242, 24.191981181556514]]]),
            {
              "system:index": "34"
            })]),
    Forest = 
    /* color: #00613f */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[82.37128701238936, 24.399221959017776],
                  [82.37128701238936, 24.393320357090715],
                  [82.3793980124504, 24.393320357090715],
                  [82.3793980124504, 24.399221959017776]]], null, false),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.37948384313887, 24.403208315550028],
                  [82.37948384313887, 24.399182876468185],
                  [82.39111390142745, 24.399182876468185],
                  [82.39111390142745, 24.403208315550028]]], null, false),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.39669289617842, 24.410008280399776],
                  [82.39669289617842, 24.407116386078656],
                  [82.40467515020674, 24.407116386078656],
                  [82.40467515020674, 24.410008280399776]]], null, false),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.42536878873656, 23.89008911654935],
                  [82.43536806394408, 23.890913123057928],
                  [82.43232107450316, 23.894052147382812],
                  [82.42987489988158, 23.89322816087174]]]),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.44373740267876, 24.320818701058176],
                  [82.44336189341668, 24.31907843803469],
                  [82.44644106936578, 24.31868736440513],
                  [82.44687022280816, 24.320173437779903]]]),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.19335932900948, 24.36496127728644],
                  [82.19364900758309, 24.363861778024905],
                  [82.19763477017922, 24.363602783475045],
                  [82.19823022058053, 24.364413972181747]]]),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.47199673519414, 24.439876583497835],
                  [82.47199673519414, 24.43714165700756],
                  [82.47444290981572, 24.43714165700756],
                  [82.47444290981572, 24.439876583497835]]], null, false),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.49345440731328, 24.44315841697371],
                  [82.49345440731328, 24.441204954958575],
                  [82.4968447195081, 24.441204954958575],
                  [82.4968447195081, 24.44315841697371]]], null, false),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52505134045667, 24.446804883588616],
                  [82.52505134045667, 24.445447269971684],
                  [82.52675722539014, 24.445447269971684],
                  [82.52675722539014, 24.446804883588616]]], null, false),
            {
              "system:index": "8"
            })]),
    Agriculture = 
    /* color: #98ff00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[82.02760425803781, 24.08209773893196],
                  [82.02670571801782, 24.080985999728476],
                  [82.02762839791895, 24.080748468296242],
                  [82.02762839791895, 24.081061911742882],
                  [82.02847329375864, 24.08091988277608],
                  [82.03027842042566, 24.080870907233805],
                  [82.03050887284549, 24.080484198414382],
                  [82.03099971709521, 24.081368206740066],
                  [82.03042304215701, 24.081688994957553],
                  [82.03060543237002, 24.0819950898365],
                  [82.0314127772835, 24.081524927801564],
                  [82.03208332953723, 24.08204896245956],
                  [82.03180974421771, 24.08313130763529],
                  [82.03090207984516, 24.08321583763286],
                  [82.03032004048893, 24.08280934734538],
                  [82.03066272116321, 24.082483664437987],
                  [82.03027702594792, 24.08230896193508],
                  [82.02947940806735, 24.082350539703956],
                  [82.0293801663338, 24.08329330472477],
                  [82.02829655389178, 24.083521036534222],
                  [82.02810075263369, 24.083156175698104],
                  [82.02742483596194, 24.08333248441972],
                  [82.0272022126137, 24.082788865082563],
                  [82.02760631476431, 24.08206357217702]]]),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.04991738208903, 24.078432866941522],
                  [82.04997102626933, 24.07681173510681],
                  [82.05123702892436, 24.076493383547316],
                  [82.05192837626011, 24.076664400419332],
                  [82.05245408922703, 24.077117438334927],
                  [82.0531644889938, 24.078145969578326],
                  [82.05232423826116, 24.079393937065344],
                  [82.05011678024191, 24.08027305533084]]]),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.03411387804952, 24.088778717951726],
                  [82.03210758570638, 24.08629088926991],
                  [82.03805999078422, 24.085684170149367],
                  [82.04199210920005, 24.08612003545122],
                  [82.0427753142324, 24.08610044603127],
                  [82.04342977323203, 24.086859533864732],
                  [82.0392491170503, 24.087385166730943],
                  [82.03583734718336, 24.088394007852546],
                  [82.03415291992201, 24.08877109691242]]]),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.02517524052472, 24.086767145437154],
                  [82.03091516781659, 24.08554770449378],
                  [82.03231209556255, 24.08946632976883],
                  [82.02755606737898, 24.0907528063365]]]),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.02311409372233, 24.089387506666657],
                  [82.02243281263254, 24.08800648043391],
                  [82.02439618963145, 24.086659720661707],
                  [82.02541006463908, 24.088143604271433],
                  [82.02306581396006, 24.089416890041825],
                  [82.02315700906657, 24.08936791774612]]]),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.95435628587285, 24.098515585498767],
                  [81.9539910977611, 24.09701186209285],
                  [81.9570149121288, 24.096123997746723],
                  [81.95889245843922, 24.097074006848366],
                  [81.95901047563588, 24.09791382861516],
                  [81.95964884138142, 24.098677743341213],
                  [81.9578624901775, 24.099787114777808],
                  [81.95647635028715, 24.100104763398328],
                  [81.95432082830705, 24.09849685794227],
                  [81.95439056574143, 24.098491961060603],
                  [81.95431546388902, 24.09852623922841]]]),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.9448859262724, 24.105259047875105],
                  [81.94330878737165, 24.100754075441262],
                  [81.95159144880964, 24.09896183582643],
                  [81.95471354010297, 24.104181786274918],
                  [81.94481082441999, 24.10532760057933]]]),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.93304279975114, 24.103709711802413],
                  [81.93193236521897, 24.10134459242057],
                  [81.93352559737382, 24.10074228796074],
                  [81.93393329314408, 24.101765714181525],
                  [81.93469504050431, 24.101383766596285],
                  [81.9355748050612, 24.103082934936314]]]),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.91962433883353, 24.088394551335785],
                  [81.91568685599967, 24.091342672581014],
                  [81.91203905173941, 24.08520149301817],
                  [81.91548836406737, 24.08408976668118],
                  [81.91743565627738, 24.086739264162794]]]),
            {
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.92271883025907, 24.087145148204048],
                  [81.92562634483122, 24.088418443894476],
                  [81.92180687919401, 24.093521294287687],
                  [81.91749388709806, 24.09260064148682]]]),
            {
              "system:index": "9"
            })]),
    Barren = 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[82.55228937474389, 24.16021013818841],
                  [82.55228937474389, 24.156568563740446],
                  [82.55782545415063, 24.156568563740446],
                  [82.55782545415063, 24.16021013818841]]], null, false),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.55599065530062, 24.14447261253571],
                  [82.55599065530062, 24.14123689565878],
                  [82.56129070031405, 24.14123689565878],
                  [82.56129070031405, 24.14447261253571]]], null, false),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.57019369438294, 24.15986849229876],
                  [82.57019369438294, 24.153759969519506],
                  [82.57551519706848, 24.153759969519506],
                  [82.57551519706848, 24.15986849229876]]], null, false),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.62079676949816, 24.15525122127577],
                  [82.62079676949816, 24.1473411257956],
                  [82.63028106057482, 24.1473411257956],
                  [82.63028106057482, 24.15525122127577]]], null, false),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.66594371163683, 24.170600108145177],
                  [82.66594371163683, 24.16641067156579],
                  [82.67216643655138, 24.16641067156579],
                  [82.67216643655138, 24.170600108145177]]], null, false),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.67950496041612, 24.163082516498832],
                  [82.67950496041612, 24.155525324716606],
                  [82.68748721444445, 24.155525324716606],
                  [82.68748721444445, 24.163082516498832]]], null, false),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52484903239481, 24.15858753555777],
                  [82.52484903239481, 24.15855816806408],
                  [82.52486780785792, 24.15855816806408],
                  [82.52486780785792, 24.15858753555777]]], null, false),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52497509621851, 24.15852023504141],
                  [82.52497509621851, 24.158519011395327],
                  [82.52497777842753, 24.158519011395327],
                  [82.52497777842753, 24.15852023504141]]], null, false),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52496436738245, 24.158467618249365],
                  [82.52496436738245, 24.157810518346626],
                  [82.526324247353, 24.157810518346626],
                  [82.526324247353, 24.158467618249365]]], null, false),
            {
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52465725445025, 24.15956400087837],
                  [82.52465725445025, 24.158957075943007],
                  [82.526593809359, 24.158957075943007],
                  [82.526593809359, 24.15956400087837]]], null, false),
            {
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52695858978502, 24.159862567731846],
                  [82.52695858978502, 24.157787268939916],
                  [82.52865374588244, 24.157787268939916],
                  [82.52865374588244, 24.159862567731846]]], null, false),
            {
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.52803490275166, 24.165552753874106],
                  [82.52803490275166, 24.163751633329703],
                  [82.53082440012714, 24.163751633329703],
                  [82.53082440012714, 24.165552753874106]]], null, false),
            {
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.47742037509197, 24.542099440113358],
                  [82.47742037509197, 24.539298416990995],
                  [82.4795339557957, 24.539298416990995],
                  [82.4795339557957, 24.542099440113358]]], null, false),
            {
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.4809394333195, 24.54064525821246],
                  [82.4809394333195, 24.53749284629939],
                  [82.484630152924, 24.53749284629939],
                  [82.484630152924, 24.54064525821246]]], null, false),
            {
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.47141222689861, 24.5429289994206],
                  [82.47141222689861, 24.540694056536086],
                  [82.4756072017979, 24.540694056536086],
                  [82.4756072017979, 24.5429289994206]]], null, false),
            {
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.45558656418935, 24.542712294115614],
                  [82.45558656418935, 24.54147283075033],
                  [82.45774306023732, 24.54147283075033],
                  [82.45774306023732, 24.542712294115614]]], null, false),
            {
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.4582795020403, 24.542195039239118],
                  [82.4582795020403, 24.54084821465123],
                  [82.4597386237444, 24.54084821465123],
                  [82.4597386237444, 24.542195039239118]]], null, false),
            {
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[82.42882120567097, 24.543794025721862],
                  [82.42882120567097, 24.541959241024202],
                  [82.4320505853249, 24.541959241024202],
                  [82.4320505853249, 24.543794025721862]]], null, false),
            {
              "system:index": "17"
            })]),
    image = ee.Image("projects/onyx-seeker-461009-i4/assets/Singrauli_CNN_Classified_Map_FINAL");



// ====================================================================================
// SCRIPT CONFIGURATION
// ====================================================================================

// Define the initial list of bands to select from Sentinel-2.
// We include 'SCL' because it's needed for our cloud mask function.
var S2_BANDS = ['B2', 'B3', 'B4', 'B8', 'B11', 'B12', 'SCL'];

// Define the final list of features that will be used for the classification.
var BANDS_FOR_CLASSIFICATION = ['B2', 'B3', 'B4', 'B8', 'B11', 'B12', 'NDVI', 'NDWI', 'NDBI', 'texture'];

// Define visualization parameters for displaying the true-color image.
var TRUE_COLOR_VIS_PARAMS = {bands: ['B4', 'B3', 'B2'], min: 0, max: 3000};


// ====================================================================================
// STEP 1: DEFINE AOI AND CREATE THE BASE IMAGE
// ====================================================================================

// --- 1.1 Define Area of Interest (AOI) ---
// IMPORTANT: You must have a Feature Collection asset named 'boundary' imported.
var aoi = boundary.filter(ee.Filter.and(
  ee.Filter.eq('NAME_2', 'Singrauli'),
  ee.Filter.eq('NAME_1', 'Madhya Pradesh')
));

// Center the map on the AOI and display its outline.
Map.centerObject(aoi, 10);
Map.addLayer(aoi, {color: 'FF0000'}, 'Singrauli District AOI');


// --- 1.2 Create a Cloud-Free Sentinel-2 Composite ---

// This function masks out clouds and other undesirable pixels.
function maskS2clouds(image) {
  var scl = image.select('SCL');
  var keepMask = scl.eq(4)    // Vegetation
                 .or(scl.eq(5)) // Bare soil
                 .or(scl.eq(6)) // Water
                 .or(scl.eq(11)) // Built-up
                 .or(scl.eq(2));  // Dark features
  return image.updateMask(keepMask);
}

// Get, filter, and mask the Sentinel-2 image collection.
var s2_collection = ee.ImageCollection('COPERNICUS/S2_SR')
  .filterBounds(aoi)
  .filterDate('2024-05-01', '2025-05-01')
  .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 20))
  .select(S2_BANDS)
  .map(maskS2clouds);

// Create a single, median-composite image.
var baseImage = s2_collection.median().clip(aoi);

// Add the true-color composite to the map.
Map.addLayer(baseImage, TRUE_COLOR_VIS_PARAMS, 'True Color Composite (Base)');


// ====================================================================================
// STEP 2: FEATURE ENGINEERING (Adding Spectral Indices)
// ====================================================================================

// Calculate NDVI to highlight vegetation.
var ndvi = baseImage.normalizedDifference(['B8', 'B4']).rename('NDVI');

// Calculate NDWI to highlight water bodies.
var ndwi = baseImage.normalizedDifference(['B3', 'B8']).rename('NDWI');

// Calculate NDBI = (SWIR1 - NIR) / (SWIR1 + NIR) to highlight built-up areas
var ndbi = baseImage.normalizedDifference(['B11', 'B8']).rename('NDBI');

// --- Calculate Texture (with data type conversion) ---
// The glcmTexture function requires an integer input. We convert the NIR band
// (B8) to a 16-bit integer before the calculation.
var nir_int = baseImage.select('B8').toUint16();

// Now, calculate texture on the integer-converted band.
var texture = nir_int.glcmTexture({size: 4}).select('B8_contrast').rename('texture');

// Add ALL new bands to the image.
var finalImage = baseImage.addBands([ndvi, ndwi, ndbi, texture]);


// ====================================================================================
// STEP 3: ASSIGN CLASS IDs TO IMPORTED POLYGONS
// ====================================================================================

// ---!!! This section assumes you have imported FeatureCollections named:
// Forest, Water, Agriculture, Settlement, and Mining !!!---

// Define the class values and names
// 6: Forest
// 1: Water
// 2: Agriculture
// 3: Settlement
// 4: Mining
var forest = Forest.map(function(f) { return f.set({class: 6}); });
var water = Water.map(function(f) { return f.set({class: 1}); });
var agriculture = Agriculture.map(function(f) { return f.set({class: 2}); });
var settlement = Settlement.map(function(f) { return f.set({class: 3}); });
var mining = Mining.map(function(f) { return f.set({class: 4}); });
var barren = Barren.map(function(f) { return f.set({class: 5}); });


// ====================================================================================
// STEP 4: PREPARE DATA FOR CLASSIFICATION
// ====================================================================================

// Merge all your polygon collections into a single FeatureCollection.
var allPolygons = ee.FeatureCollection([
  forest,
  water,
  agriculture,
  settlement,
  mining,
  barren
]).flatten();

// Add a 'random' column for splitting data into training and testing sets.
var withRandom = allPolygons.randomColumn('random');

// Define the split ratio (60% for training, 40% for testing).
var split = 0.6;
var trainingSet = withRandom.filter(ee.Filter.lt('random', split));
var testingSet = withRandom.filter(ee.Filter.gte('random', split));


// ====================================================================================
// STEP 4B: COUNT PIXELS PER CLASS (for data balance analysis)
// ====================================================================================

// This function takes a FeatureCollection (e.g., all your forest polygons)
// and returns the total number of pixels inside those polygons.
var countPixelsInClass = function(featureCollection) {
  var pixelCount = finalImage.select(0).reduceRegion({
    reducer: ee.Reducer.count(),
    geometry: featureCollection.geometry(1),
    scale: 10,
    maxPixels: 1e9
  });
  // The result is a dictionary, we extract the first (and only) value.
  return pixelCount.values().get(0);
};

// Calculate the pixel count for each class using the function.
var forestPixels = countPixelsInClass(forest);
var waterPixels = countPixelsInClass(water);
var agriculturePixels = countPixelsInClass(agriculture);
var settlementPixels = countPixelsInClass(settlement);
var miningPixels = countPixelsInClass(mining);
var barrenPixels = countPixelsInClass(barren);

// Print the results in a clear format.
print('--- Pixel Counts Per Class ---');
print('Forest (Class 0):', forestPixels);
print('Water (Class 1):', waterPixels);
print('Agriculture (Class 2):', agriculturePixels);
print('Settlement (Class 3):', settlementPixels);
print('Mining (Class 4):', miningPixels);
print('Barren / Scrubland (Class 5):', barrenPixels);
print('------------------------------');


// ====================================================================================
// STEP 5: TRAIN THE CLASSIFIER
// ====================================================================================

// Sample the pixels from the final image using the training polygons.
var trainingData = finalImage.select(BANDS_FOR_CLASSIFICATION).sampleRegions({
  collection: trainingSet,
  properties: ['class'],
  scale: 10,
  tileScale: 16
});

// Create and train the Random Forest classifier.
var classifier = ee.Classifier.smileRandomForest(50).train({
  features: trainingData,
  classProperty: 'class',
  inputProperties: BANDS_FOR_CLASSIFICATION
});


// ====================================================================================
// STEP 6: CLASSIFY THE IMAGE AND ASSESS ACCURACY
// ====================================================================================

// Classify the entire final image.
var classifiedImage = finalImage.classify(classifier);

// --- Accuracy Assessment ---

// First, get the pixel values for your testing polygons, just like you did for training.
var testingData = finalImage.select(BANDS_FOR_CLASSIFICATION).sampleRegions({
  collection: testingSet,
  properties: ['class'],
  scale: 10,
  tileScale: 16
});

// Now, classify this sampled testing data.
var validation = testingData.classify(classifier);

// Get a confusion matrix to represent the accuracy.
// This compares the original 'class' property with the new 'classification' property.
var errorMatrix = validation.errorMatrix('class', 'classification');

// Print the results to the console. This is your map's "report card".
print('Confusion Matrix:', errorMatrix);
print('Overall Accuracy:', errorMatrix.accuracy());

 
// ====================================================================================
// STEP 7: VISUALIZE THE FINAL MAP (Corrected)
// ====================================================================================

// Define a palette with colors ordered by their class value (1 through 6)
// to match the legend.
var lulcPalette = [
  '0000FF', // 1: Water (blue)
  'E6E600', // 2: Agriculture (yellow)
  'FF0000', // 3: Settlement (red)
  '000000', // 4: Mining (BLACK)
  'e2d2b2', // 5: Barren / Scrubland (tan)
  '90EE90'  // 6: Forest (light green)
];

// Visualization parameters now correctly map class values 1-6 to the palette.
var lulcVisParams = {min: 1, max: 6, palette: lulcPalette};

// Add the RF classified map using the corrected visualization parameters.
Map.addLayer(classifiedImage, lulcVisParams, 'LULC Classified RF');


// ====================================================================================
// STEP 8: CREATE AND ADD A MAP LEGEND (Corrected)
// ====================================================================================

// --- 1. Define the content of the legend ---

// The names and colors MUST be in the same order as the legend image.
var names = [
 'Forest',
 'Water',
 'Agriculture & Vegetation',
 'Settlement',
 'Mining',
 'Barren / Scrubland'
];

var colors = [
 '90EE90', // Forest
 '0000FF', // Water
 'E6E600', // Agriculture
 'FF0000', // Settlement
 '000000', // Mining
 'e2d2b2'  // Barren / Scrubland
];

// --- The rest of your legend code (parts 2, 3, and 4) remains the same ---
// --- It will now correctly build the legend as shown in your image. ---

// --- 2. Create the legend panel ---
var legend = ui.Panel({
  style: {
    position: 'bottom-left',
    padding: '8px 15px',
    border: '1px solid #DDDDDD'
  }
});
var legendTitle = ui.Label({
  value: 'LULC Legend',
  style: {
    fontWeight: 'bold',
    fontSize: '18px',
    margin: '0 0 4px 0',
    padding: '0'
  }
});
legend.add(legendTitle);

// --- 3. Create one row for each legend item ---
var makeLegendRow = function(color, name) {
  var colorBox = ui.Label({
    style: {
      backgroundColor: '#' + color,
      padding: '8px',
      margin: '0 0 4px 0'
    }
  });
  var description = ui.Label({
    value: name,
    style: {margin: '0 0 4px 6px'}
  });
  return ui.Panel({
    widgets: [colorBox, description],
    layout: ui.Panel.Layout.Flow('horizontal')
  });
};

// Loop through the names and colors to create each row and add it to the legend.
for (var i = 0; i < names.length; i++) {
  legend.add(makeLegendRow(colors[i], names[i]));
}

// --- 4. Add the legend to the map ---
ui.root.add(legend);

// ====================================================================================
// STEP 9: EXPORT LABELED PIXEL DATA (Optional)
// ====================================================================================

// This code will extract the band values for every pixel inside ALL the polygons
// you drew and save the result as a single CSV file in your Google Drive.

// 1. Sample the pixel values from within all your polygons.
// This creates a table where each row is a pixel.
var labeledPixelData = finalImage.select(BANDS_FOR_CLASSIFICATION).sampleRegions({
  collection: allPolygons, // We use 'allPolygons' to export data from every polygon you drew
  properties: ['class'],    // Keep the 'class' property so you know the label for each pixel
  scale: 10,
  tileScale: 16
});

// 2. Export this table of pixels to your Google Drive as a CSV file.
Export.table.toDrive({
  collection: labeledPixelData,
  description: 'Singrauli_Labeled_Pixel_Data',
  folder: 'GEE_Exports', // A folder with this name will be created in your Drive
  fileFormat: 'CSV'
});

// Add a print statement to confirm the task was created.
print('Export task created. Check the "Tasks" tab to run the export.');



// ====================================================================================
// STEP 6B: EXPORT THE CLASSIFIED IMAGE
// ====================================================================================
// Define a background value that is NOT one of your class values (1-6).
var backgroundValue = 0;
// Export the classified image to Google Drive as a GeoTIFF.
// This will preserve the 6 classes (0 to 5) as integer values in the output.
Export.image.toDrive({
  image: classifiedImage, // The classified image from Random Forest
  description: 'Singrauli_LULC_Classified_RF_2024', // Name of the file
  folder: 'GEE_Exports', // Folder in Google Drive where the file will be saved
  scale: 10, // Resolution in meters (Sentinel-2 resolution)
  region: aoi, // Area of Interest to clip the export
  maxPixels: 1e13, // Maximum number of pixels to export (adjust if needed)
  fileFormat: 'GeoTIFF', // Format of the output file
  formatOptions: {
    noData: backgroundValue // Set the NoData value in the file's metadata
  }
});

// Add a print statement to confirm the export task has been created.
print('Classified image export task created. Check the "Tasks" tab to run the export.');

// (This section is located just before STEP 6C in your script)

var cnnClassifiedImage = ee.Image(image); // Make sure 'image' is your CNN asset

// Clip the CNN classified image to the same AOI.
var cnnClassifiedClipped = cnnClassifiedImage.clip(aoi);

// Add the CNN classified map to the viewer using the SAME corrected palette and range.
Map.addLayer(cnnClassifiedClipped, lulcVisParams, 'LULC Classified CNN');

// ====================================================================================
// CNN CLASSIFICATION SECTION (Corrected with Remapping)
// ====================================================================================

// ---!!! IMPORTANT: REMAPPING SECTION !!!---
// Use the Inspector tool to find out what values your CNN ACTUALLY outputs.
// Then, list the values FROM your CNN model and the values you WANT them to be.
// EXAMPLE: If your CNN uses 0-5, and you want them to be 1-6 for consistency:
// From: [Water, Agri, Settle, Mining, Barren, Forest]
var cnn_output_values = [1, 2, 3, 4, 5, 0]; // The values FROM your CNN model asset. ADJUST THESE!
var standard_values   = [1, 2, 3, 4, 5, 6]; // The values you WANT for your map (1-6).

// The remap function takes the old values and maps them to the new ones.
var cnnClassifiedRemapped = cnnClassifiedClipped.remap(cnn_output_values, standard_values);


// Add the REMAPPED CNN classified map to the viewer. It should now have the correct colors.
Map.addLayer(cnnClassifiedRemapped, lulcVisParams, 'LULC Classified CNN (Remapped)');


// ====================================================================================
// STEP 6C: EXPORT THE CNN CLASSIFIED IMAGE (Corrected)
// ====================================================================================



// Use the REMAPPED image for the export.
// Replace masked pixels (outside the AOI) with the background value.
var cnnForExport = cnnClassifiedRemapped.unmask(backgroundValue);

// Export the remapped CNN classified image to Google Drive.
Export.image.toDrive({
  image: cnnForExport, // Use the remapped and unmasked image for export
  description: 'Singrauli_LULC_Classified_CNN_2024_Remapped', // Updated description
  folder: 'GEE_Exports',
  scale: 10,
  region: aoi,
  maxPixels: 1e13,
  fileFormat: 'GeoTIFF',
  formatOptions: {
    noData: backgroundValue // Set the NoData value in the file's metadata
  }
});

// Add a print statement to confirm the export task has been created.
print('Remapped CNN classified image export task created. Check the "Tasks" tab to run the export.');
